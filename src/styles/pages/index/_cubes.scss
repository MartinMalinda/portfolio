$cube-size: 20vh;
$cube-width: 10vw;
$cube-height: 10vh;

* {
  box-sizing: border-box;
}

.stage {
  perspective: 10000vw;
  width: 100%;
  height: 100%;
  position: relative;
  top: $cube-size / 10;
}

.row {
  width: 100%;
  height: $cube-size;
}

.cube {
  transform-style: preserve-3d;
  width: $cube-size;
  height: $cube-size;
  transition: 0.2s transform;
  transform-origin: 50% 50%;
  position: absolute;
  transform: rotateY(90deg);
  
  @each $index in 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 {
    &:nth-child(#{$index}){
      left: $cube-size * $index - $cube-size + 0.01;
    }    
  }

  
  &:hover,&.active {
    transform: rotateZ(450deg) translateZ(500px) translateY(4px) translateX(4px);
    z-index: 5;
  }
  
  .side {
    background: transparentize(black, 0.9);
    width: $cube-size;
    height: $cube-size;
    position: absolute;
    transition: 4s transform;
    //box-shadow: inset 1px 1px 2px 3px transparentize(white, 0.9);
    font-size: 2em;
    display: flex;
    justify-content: right;
    align-items: flex-start;
    padding: 10px;
    
    &.front{
      transform: translateZ($cube-size/2);
      background: transparentize(mix($primary, purple, 50%), 0.9);
    }
    
    &.right{
      transform: rotateY(90deg) translateZ($cube-size/2);
      background: transparent;
    }
    
    &.left{
      transform: rotateY(90deg) translateZ(-$cube-size/2);
        background: transparent;
    }
    
    &.top{
      transform: rotateX(90deg) translateZ($cube-size/2);
      background: transparentize(mix(red, black, 50%), 0.7);
    }
        
    &.bottom{
      transform: rotateX(90deg) translateZ(-$cube-size/2);
        background: transparentize(mix(salmon, black, 50%), 0.7);
    }
    
    &.back {
      transform: translateZ(-$cube-size/2);
        background: transparentize(mix(green, black, 50%), 0.7);
    }
  }
}